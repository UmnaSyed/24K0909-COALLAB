INCLUDE Irvine32.inc

.data
userstring     BYTE 50 DUP(?)
reversestring  BYTE 50 DUP(?)
stringlength   DWORD ?
msg            BYTE "Enter string you want to reverse: ",0

.code
main PROC
    ; Ask user for input
    mov edx, OFFSET msg
    call WriteString

    mov edx, OFFSET userstring
    mov ecx, SIZEOF userstring - 1
    call ReadString
    mov stringlength, eax          

    ; Push each character onto stack
    mov esi, OFFSET userstring
    mov ecx, stringlength

pushloop:
    cmp ecx, 0
    jle donepush
    movzx eax, BYTE PTR [esi]    
    push eax
    inc esi
    dec ecx
    jmp pushloop

donepush:
    mov edi, OFFSET reversestring
    mov ecx, stringlength

poploop:
    cmp ecx, 0
    jle donepop
    pop eax
    mov [edi], al            
    inc edi
    dec ecx
    jmp poploop

donepop:
    mov BYTE PTR [edi], 0        


    mov edx, OFFSET reversestring
    call WriteString
    call Crlf

    exit
main ENDP
END main

