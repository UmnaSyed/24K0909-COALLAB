INCLUDE Irvine32.inc

.data
    userstring     BYTE 50 DUP(?)
    reversestring  BYTE 50 DUP(?)
    stringlength   DWORD ?
    msg            BYTE "Enter string you want to reverse: ",0
    msg2           BYTE "Reversed string: ",0

.code
main PROC
    ; Prompt user for input
    mov  edx, OFFSET msg
    call WriteString
    mov  edx, OFFSET userstring
    mov  ecx, SIZEOF userstring - 1
    call ReadString
    mov  stringlength, eax      

    ; Prepare for reversing
    mov  ecx, stringlength
    mov  esi, OFFSET userstring
    add  esi, ecx
    dec  esi                       
    mov  edi, OFFSET reversestring

reverseLoop:                        
    cmp  ecx, 0
    jle  doneReverse
    mov  al, [esi]
    mov  [edi], al
    dec  esi
    inc  edi
    dec  ecx
    jmp  reverseLoop

doneReverse:                       
    mov  BYTE PTR [edi], 0        

    ; Display reversed string
    call Crlf
    mov  edx, OFFSET msg2
    call WriteString
    mov  edx, OFFSET reversestring
    call WriteString
    call Crlf

    exit
main ENDP

END main
